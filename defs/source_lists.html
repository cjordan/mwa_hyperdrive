<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Sky-model source lists - mwa_hyperdrive documentation</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="mwa_hyperdrive documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">User Guide</li><li class="chapter-item expanded "><a href="../user/intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../user/installation/intro.html"><strong aria-hidden="true">2.</strong> Installation</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../user/installation/pre_compiled.html"><strong aria-hidden="true">2.1.</strong> Pre-compiled</a></li><li class="chapter-item "><a href="../user/installation/from_source.html"><strong aria-hidden="true">2.2.</strong> From source</a></li></ol></li><li class="chapter-item expanded "><a href="../user/help.html"><strong aria-hidden="true">3.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../user/di_cal/intro.html"><strong aria-hidden="true">4.</strong> DI calibration</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../user/di_cal/tutorial.html"><strong aria-hidden="true">4.1.</strong> Tutorial</a></li><li class="chapter-item "><a href="../user/di_cal/simple.html"><strong aria-hidden="true">4.2.</strong> Simple usage</a></li><li class="chapter-item "><div><strong aria-hidden="true">4.3.</strong> Advanced usage</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../user/di_cal/advanced/out_calibrated.html"><strong aria-hidden="true">4.3.1.</strong> Writing out calibrated data</a></li><li class="chapter-item "><a href="../user/di_cal/advanced/out_subtracted.html"><strong aria-hidden="true">4.3.2.</strong> Writing out subtracted data</a></li><li class="chapter-item "><a href="../user/di_cal/advanced/time_varying.html"><strong aria-hidden="true">4.3.3.</strong> Varying solutions over time</a></li></ol></li><li class="chapter-item "><a href="../user/di_cal/garrawarla.html"><strong aria-hidden="true">4.4.</strong> Usage on garrawarla</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Definitions</li><li class="chapter-item expanded "><a href="../defs/input_data.html"><strong aria-hidden="true">5.</strong> Supported input data</a></li><li class="chapter-item expanded "><a href="../defs/source_lists.html" class="active"><strong aria-hidden="true">6.</strong> Sky-model source lists</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../defs/source_list_hyperdrive.html"><strong aria-hidden="true">6.1.</strong> hyperdrive format</a></li><li class="chapter-item "><a href="../defs/source_list_ao.html"><strong aria-hidden="true">6.2.</strong> André Offringa (ao) format</a></li><li class="chapter-item "><a href="../defs/source_list_rts.html"><strong aria-hidden="true">6.3.</strong> RTS format</a></li></ol></li><li class="chapter-item expanded "><a href="../defs/cal_sols.html"><strong aria-hidden="true">7.</strong> Calibration solutions file formats</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../defs/cal_sols_hyperdrive.html"><strong aria-hidden="true">7.1.</strong> hyperdrive format</a></li><li class="chapter-item "><a href="../defs/cal_sols_ao.html"><strong aria-hidden="true">7.2.</strong> André Offringa (ao) format</a></li><li class="chapter-item "><a href="../defs/cal_sols_rts.html"><strong aria-hidden="true">7.3.</strong> RTS format</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Concepts</li><li class="chapter-item expanded "><a href="../concepts/intro.html"><strong aria-hidden="true">8.</strong> Introduction</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Developer Guide</li><li class="chapter-item expanded "><a href="../dev/intro.html"><strong aria-hidden="true">9.</strong> Introduction</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">mwa_hyperdrive documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/MWATelescope/mwa_hyperdrive" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="sky-model-source-lists"><a class="header" href="#sky-model-source-lists">Sky-model source lists</a></h1>
<p><code>hyperdrive</code> performs sky-model calibration. Sky-model source lists describe
what the sky looks like, and the closer the sky model matches the data to be
calibrated, the better the calibration quality.</p>
<p>A sky-model source list is composed of many sources, and each source is composed
of at least one component. Each component has a position, a component type and a
flux-density type. Within the code, a source list is a tree structure
associating a source name to a collection of components.</p>
<p>Source lists have historically been bespoke. In line with <code>hyperdrive</code>'s goals,
<code>hyperdrive</code> will read many source list formats, but also presents its own
preferred format (which is hopefully also suitable for other applications!).
Each supported format is detailed on the following documentation pages.</p>
<p><code>hyperdrive</code> can also convert between formats, although in a &quot;lossy&quot; way;
non-<code>hyperdrive</code> formats cannot represent all component and/or flux-density
types.</p>
<h2 id="supported-formats"><a class="header" href="#supported-formats">Supported formats</a></h2>
<ul>
<li><a href="source_list_hyperdrive.html"><code>hyperdrive</code> format</a></li>
<li><a href="defs/source_list_ao.html">André Offringa (<code>ao</code>) format</a></li>
<li><a href="defs/source_list_rts.html"><code>RTS</code> format</a></li>
</ul>
<h2 id="conversion"><a class="header" href="#conversion">Conversion</a></h2>
<p><code>hyperdrive</code> can convert (as best it can) between different source list formats.
<code>hyperdrive srclist-convert</code> takes the path to input file, and the path to the
output file to be written. If it isn't specified, the type of the input file
will be guessed. Depending on the output file name, the output source list type
may need to be specified.</p>
<h2 id="verification"><a class="header" href="#verification">Verification</a></h2>
<p><code>hyperdrive</code> can be given many source lists in order to test that they are
correctly read. For each input file, <code>hyperdrive srclist-verify</code> will print out
what kind of source list the file represents (i.e. <code>hyperdrive</code>, <code>ao</code>, <code>rts</code>,
...) as well as how many sources and components are within the file.</p>
<h2 id="component-types"><a class="header" href="#component-types">Component types</a></h2>
<p>Each component in a sky model is represented in one of three ways:</p>
<ul>
<li>point source</li>
<li>Gaussian</li>
<li>shapelet</li>
</ul>
<p>Point sources are the simplest. Gaussian sources could be considered the same as
point sources, but have details on their structure (major- and minor-axes,
position angle). Finally, shapelets are described the same way as Gaussians but
additionally have multiple &quot;shapelet components&quot;. Examples of each of these
components can be found on the following documentation pages and in the <a href="https://github.com/MWATelescope/mwa_hyperdrive/tree/main/examples">examples
directory</a>.</p>
<h2 id="flux-density-types"><a class="header" href="#flux-density-types">Flux-density types</a></h2>
<p>The flux density of a component in a sky model is represented in one of three
ways:</p>
<ul>
<li>a power law; or</li>
</ul>
<p>\[ S_\nu = S_0 \left( \frac{\nu}{\nu_0} \right)^\alpha \]</p>
<ul>
<li>a curved power law; or</li>
</ul>
<p>\[ S_\nu = S_0 \left( \frac{\nu}{\nu_0} \right)^\alpha e^{q \left( \ln \left( {\nu}/{\nu_0} \right) \right)^2} \]</p>
<ul>
<li>a &quot;list&quot;.</li>
</ul>
<p>Flux densities are allowed to be negative.</p>
<h3 id="power-laws-and-curved-power-laws"><a class="header" href="#power-laws-and-curved-power-laws">Power laws and Curved power laws</a></h3>
<p>Most astrophysical sources are modelled as power laws. These are simply
described by a reference Stokes I, Q, U and V flux density at a frequency
alongside a spectral index.</p>
<p>Curved power laws are formalised in Section 4.1 of <a href="https://ui.adsabs.harvard.edu/abs/2017ApJ...836..174C/abstract">Callingham et al.
2017</a>. These are
the same as power laws but with an additional &quot;spectral curvature&quot; parameter
<code>q</code>.</p>
<p>Both kinds of power law flux-density representations are preferred in
<code>hyperdrive</code>, however, the generic &quot;list&quot; type is also supported.</p>
<h3 id="flux-density-lists"><a class="header" href="#flux-density-lists">Flux density lists</a></h3>
<p>The list type is simply many instances of a Stokes I, Q, U and V value at a
frequency, e.g. each of the red dots in the image below (taken from Callingham
et al. 2017):</p>
<p><img src="sed.png" alt="Spectral energy distribution taken from Callingham et al. 2017" /></p>
<p>When estimating a flux density <em>between</em> defined frequencies, a power law has to
be assumed, and this may not match reality well. If there are at least two
entries in the list and we're estimating a flux density <em>outside</em> the defined
frequencies, then a power law is also assumed, using a slope from the nearest
two entries. If there's only one entry in the list, then a power law is used
with a default spectral index (currently -0.8).</p>
<p>It is possible to have some or all of the list entries with a negative flux
density. When transitioning from a negative FD to a positive FD (or vice versa),
a linear fit is used for estimation. Note that a spectral indices are linear
fits in a log-log space, but it is not possible to represent positive and
negative FDs in a log-log space.</p>
<p>When estimating flux densities, it is feared that the &quot;jagged&quot; shape of a
component's spectral energy distribution introduces artefacts into an EoR power
spectrum. Finally, it is relatively expensive to estimate flux densities from a
list type. For all these reasons, users are strongly encouraged to not use list
types where possible.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../defs/input_data.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../defs/source_list_hyperdrive.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../defs/input_data.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../defs/source_list_hyperdrive.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
